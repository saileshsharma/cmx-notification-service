<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <changeSet id="022-1" author="system">
        <comment>Enable all feature flags by default for initial deployment</comment>

        <!-- Enable all feature flags -->
        <update tableName="feature_flags">
            <column name="enabled" valueBoolean="true"/>
            <column name="rollout_percentage" valueNumeric="100"/>
        </update>

        <!-- Keep experimental features disabled -->
        <update tableName="feature_flags">
            <column name="enabled" valueBoolean="false"/>
            <where>name LIKE 'experimental.%'</where>
        </update>

        <!-- Keep debug features disabled in production -->
        <update tableName="feature_flags">
            <column name="enabled" valueBoolean="false"/>
            <where>name LIKE 'debug.%'</where>
        </update>

        <!-- Keep maintenance mode disabled -->
        <update tableName="feature_flags">
            <column name="enabled" valueBoolean="false"/>
            <where>name LIKE 'maintenance.%'</where>
        </update>
    </changeSet>

</databaseChangeLog>
